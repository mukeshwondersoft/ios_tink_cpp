name: Compile Tink C++ for iOS

on: [push]

jobs:
 build:
   runs-on: macos-latest

   steps:
   - name: Checkout repository
     uses: actions/checkout@v2

   - name: Set up Bazel
     run: |
      /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
      brew install bazel
      bazel --version

   - name: Compile Tink C++ for iOS
     run: |
       bazel build --config=ios_x86_64 //path/to/your/target
